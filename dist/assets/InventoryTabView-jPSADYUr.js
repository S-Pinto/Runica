import{u as b,r as l,j as e,C as j}from"./index-uBceAcs4.js";const N=()=>{const{character:t,updateCharacter:p}=b(),[d,i]=l.useState(null),u=s=>{const a=t.equipment.find(n=>n.id===s);if(!a)return;const r=!a.equipped,c=t.equipment.map(n=>{if(n.id===s)return{...n,equipped:r};if(r){const g=a.armorType&&a.armorType!=="shield",f=n.equipped&&n.armorType&&n.armorType!=="shield";if(g&&f)return{...n,equipped:!1};if(a.armorType==="shield"&&n.equipped&&n.armorType==="shield")return{...n,equipped:!1}}return n});p({equipment:c})},x=s=>{i(a=>a===s?null:s)},{equippableItems:m,backpackItems:h}=l.useMemo(()=>{const s=[],a=[];return(t.equipment||[]).forEach(r=>{r.armorType?s.push(r):a.push(r)}),{equippableItems:s.sort((r,c)=>r.name.localeCompare(c.name)),backpackItems:a.sort((r,c)=>r.name.localeCompare(c.name))}},[t.equipment]),o=({title:s,items:a})=>e.jsxs("div",{className:"bg-card p-4 rounded-lg border border-border",children:[e.jsx("h3",{className:"text-lg font-cinzel text-accent mb-3",children:s}),a.length===0?e.jsx("p",{className:"text-muted-foreground text-sm text-center py-4",children:"None."}):e.jsx("div",{className:"space-y-2",children:a.map(r=>e.jsxs("div",{className:"bg-card/50 rounded-lg text-sm",children:[e.jsxs("div",{className:"p-3 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[e.jsx("button",{onClick:()=>x(r.id),className:"flex-shrink-0 text-muted-foreground hover:text-foreground",children:e.jsx(j,{className:`w-5 h-5 transition-transform ${d===r.id?"rotate-180":""}`})}),e.jsxs("p",{className:"font-semibold text-accent truncate",title:r.name,children:[r.name," ",e.jsxs("span",{className:"text-xs text-muted-foreground",children:["(x",r.quantity,")"]})]})]}),r.armorType&&e.jsx("button",{onClick:()=>u(r.id),className:`px-3 py-1 text-xs font-bold rounded ${r.equipped?"bg-primary text-primary-foreground":"bg-secondary hover:bg-secondary/80"}`,children:r.equipped?"Equipped":"Equip"})]}),d===r.id&&e.jsxs("div",{className:"p-3 border-t border-border/50 bg-muted/30 space-y-2",children:[r.armorType&&e.jsxs("p",{children:[e.jsxs("strong",{className:"text-muted-foreground capitalize",children:[r.armorType," Armor"]}),r.armorClass?e.jsxs("span",{className:"text-foreground",children:[" (AC: ",r.armorClass,")"]}):""]}),e.jsx("p",{className:"text-foreground whitespace-pre-wrap",children:r.description||"No description."})]})]},r.id))})]});return e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[e.jsxs("div",{className:"bg-card p-4 rounded-lg border border-border",children:[e.jsx("h3",{className:"text-lg font-cinzel text-accent mb-3",children:"Currency"}),e.jsx("div",{className:"grid grid-cols-3 gap-2 text-center",children:Object.keys(t.currency).map(s=>e.jsxs("div",{children:[e.jsx("p",{className:"text-xl font-mono text-foreground",children:t.currency[s]}),e.jsx("p",{className:"text-xs uppercase text-muted-foreground",children:s})]},s))})]}),e.jsx(o,{title:"Equippable Gear",items:m})]}),e.jsx("div",{className:"lg:col-span-2",children:e.jsx(o,{title:"Backpack",items:h})})]})};export{N as default};
