import{u as m,j as e,r as i,a as p}from"./index-uBceAcs4.js";const u=({items:n})=>{const[r,c]=i.useState({}),l=s=>{const a=parseInt(s.bonus)||0,d=Math.floor(Math.random()*20)+1,x=d+a,h=`${d} ${a>=0?"+":"-"} ${Math.abs(a)} = ${x}`;c(o=>({...o,[s.id]:{...o[s.id],atk:h}}))},t=s=>{const{pretty:a}=p(s.damage);c(d=>({...d,[s.id]:{...d[s.id],dmg:a}}))};return e.jsxs("div",{className:"bg-card p-4 rounded-lg border border-border flex flex-col h-full",children:[e.jsx("h3",{className:"text-lg font-cinzel text-accent mb-3",children:"Attacks & Cantrips"}),e.jsxs("div",{className:"space-y-3 flex-grow overflow-y-auto pr-2 -mr-2 max-h-[calc(50vh-5rem)]",children:[n.length===0&&e.jsx("p",{className:"text-muted-foreground text-sm text-center py-4",children:"None."}),n.map(s=>{var a,d;return e.jsxs("div",{className:"bg-card/50 rounded-lg text-sm p-3 space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("span",{className:"font-semibold text-accent text-base",children:s.name}),e.jsxs("div",{className:"flex gap-4 font-mono text-foreground text-right",children:[e.jsx("span",{title:"Attack Bonus",children:s.bonus}),e.jsx("span",{title:"Damage",children:s.damage})]})]}),e.jsxs("div",{className:"flex justify-end items-center gap-2",children:[e.jsx("button",{onClick:()=>l(s),className:"text-xs bg-secondary hover:bg-secondary/80 rounded px-3 py-1.5 transition-colors font-bold",children:"ATK"}),e.jsx("button",{onClick:()=>t(s),className:"text-xs bg-destructive/80 hover:bg-destructive rounded px-3 py-1.5 transition-colors font-bold",children:"DMG"})]}),(((a=r[s.id])==null?void 0:a.atk)||((d=r[s.id])==null?void 0:d.dmg))&&e.jsxs("div",{className:"text-xs text-foreground bg-muted/50 p-2 rounded-md border-l-2 border-accent space-y-1",children:[r[s.id].atk&&e.jsxs("div",{children:[e.jsx("strong",{children:"Attack:"})," ",e.jsx("span",{className:"font-mono text-accent",children:r[s.id].atk})]}),r[s.id].dmg&&e.jsxs("div",{children:[e.jsx("strong",{children:"Damage:"})," ",e.jsx("span",{className:"font-mono text-destructive",children:r[s.id].dmg})]})]})]},s.id)})]})]})},g=({title:n,items:r})=>{const[c,l]=i.useState({});return e.jsxs("div",{className:"bg-card p-4 rounded-lg border border-border flex flex-col h-full",children:[e.jsx("h3",{className:"text-lg font-cinzel text-accent mb-3",children:n}),e.jsxs("div",{className:"space-y-2 flex-grow overflow-y-auto pr-2 -mr-2 max-h-[calc(50vh-5rem)]",children:[r.length===0&&e.jsx("p",{className:"text-muted-foreground text-sm text-center py-4",children:"None."}),r.map(t=>e.jsxs("div",{className:"bg-card/50 rounded-lg text-sm",children:[e.jsx("div",{className:"flex items-center justify-between p-3 cursor-pointer w-full text-left",onClick:()=>t.description&&l(s=>({...s,[t.id]:!s[t.id]})),children:e.jsx("span",{className:"font-semibold text-accent",children:t.name})}),c[t.id]&&t.description&&e.jsx("div",{className:"p-3 border-t border-border/50 bg-muted/30",children:e.jsx("p",{className:"text-foreground whitespace-pre-wrap",children:t.description})})]},t.id))]})]})},b=()=>{const{character:n}=m();return e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(u,{items:n.attacks||[]}),e.jsx(g,{title:"Features & Traits",items:n.featuresAndTraits||[]})]})};export{b as default};
